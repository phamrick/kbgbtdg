<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0" /> -->
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Bang! The Dice Game</title>
    <link rel="stylesheet" href="./dice.css" />
    <link rel="stylesheet" href="./styles.css" />
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
		<script src="./jquery.ui.touch-punch.min.js"></script>
    <script src="https://unpkg.com/konva@4.2.2/konva.min.js"></script>
  </head>
  <body>
    <div class="dice" id="dicediv">
      <div class="diecont" >
        <div id="die-1-toggle">
          <ol class="die-list even-roll" data-roll="1" id="die-1">
            <li class="die-item" data-side="1">
              <img src="./die_side_1_100.png" />
            </li>
            <li class="die-item" data-side="2">
              <img src="./die_side_2_100.png" />
            </li>
            <li class="die-item" data-side="3">
              <img src="./die_side_3_100.png" />
            </li>
            <li class="die-item" data-side="4">
              <img src="./die_side_4_100.png" />
            </li>
            <li class="die-item" data-side="5">
              <img src="./die_side_5_100.png" />
            </li>
            <li class="die-item" data-side="6">
              <img src="./die_side_6_100.png" />
            </li>
          </ol>
        </div>
        <img style="padding-top: 15px;" src="./reroll_die_50.png" id="die-1-reroll-img" onclick='dice.RollDice()' />
      </div>
      <div class="diecont" >
        <div id="die-2-toggle">
          <ol class="die-list odd-roll" data-roll="1" id="die-2">
            <li class="die-item" data-side="1">
              <img src="./die_side_1_100.png" />
            </li>
            <li class="die-item" data-side="2">
              <img src="./die_side_2_100.png" />
            </li>
            <li class="die-item" data-side="3">
              <img src="./die_side_3_100.png" />
            </li>
            <li class="die-item" data-side="4">
              <img src="./die_side_4_100.png" />
            </li>
            <li class="die-item" data-side="5">
              <img src="./die_side_5_100.png" />
            </li>
            <li class="die-item" data-side="6">
              <img src="./die_side_6_100.png" />
            </li>
          </ol>
        </div>
        <img style="padding-top: 15px;" src="./reroll_die_50.png" id="die-2-reroll-img" onclick='dice.RollDice()' />
      </div>
      <div class="diecont">
        <div id="die-3-toggle">
          <ol class="die-list odd-roll" data-roll="1" id="die-3">
            <li class="die-item" data-side="1">
              <img src="./die_side_1_100.png" />
            </li>
            <li class="die-item" data-side="2">
              <img src="./die_side_2_100.png" />
            </li>
            <li class="die-item" data-side="3">
              <img src="./die_side_3_100.png" />
            </li>
            <li class="die-item" data-side="4">
              <img src="./die_side_4_100.png" />
            </li>
            <li class="die-item" data-side="5">
              <img src="./die_side_5_100.png" />
            </li>
            <li class="die-item" data-side="6">
              <img src="./die_side_6_100.png" />
            </li>
          </ol>
        </div>
        <img style="padding-top: 15px;;" src="./reroll_die_50.png" id="die-3-reroll-img" onclick='dice.RollDice()' />
      </div>
      <div class="diecont">
        <div id="die-4-toggle">
          <ol class="die-list odd-roll" data-roll="1" id="die-4">
            <li class="die-item" data-side="1">
              <img src="./die_side_1_100.png" />
            </li>
            <li class="die-item" data-side="2">
              <img src="./die_side_2_100.png" />
            </li>
            <li class="die-item" data-side="3">
              <img src="./die_side_3_100.png" />
            </li>
            <li class="die-item" data-side="4">
              <img src="./die_side_4_100.png" />
            </li>
            <li class="die-item" data-side="5">
              <img src="./die_side_5_100.png" />
            </li>
            <li class="die-item" data-side="6">
              <img src="./die_side_6_100.png" />
            </li>
          </ol>
          <img style="padding-top: 15px;" src="./reroll_die_50.png" id="die-4-reroll-img" onclick='dice.RollDice()' />
        </div>
      </div>
      <div class="diecont">
        <div id="die-5-toggle">
          <ol class="die-list odd-roll" data-roll="1" id="die-5">
            <li class="die-item" data-side="1">
              <img src="./die_side_1_100.png" />
            </li>
            <li class="die-item" data-side="2">
              <img src="./die_side_2_100.png" />
            </li>
            <li class="die-item" data-side="3">
              <img src="./die_side_3_100.png" />
            </li>
            <li class="die-item" data-side="4">
              <img src="./die_side_4_100.png" />
            </li>
            <li class="die-item" data-side="5">
              <img src="./die_side_5_100.png" />
            </li>
            <li class="die-item" data-side="6">
              <img src="./die_side_6_100.png" />
            </li>
          </ol>
          <img style="padding-top: 15px;" src="./reroll_die_50.png" id="die-5-reroll-img" onclick='dice.RollDice()' />
        </div>
      </div>
      <!-- <div class="diecont">  -->
        <!-- <div id="die-6-toggle"> -->
          <!-- <ol class="die-list odd-roll" data-roll="1" id="die-6"> -->
            <!-- <li class="die-item" data-side="1"> -->
              <!-- <img src="./die_side_1_100.png" /> -->
            <!-- </li> -->
            <!-- <li class="die-item" data-side="2"> -->
              <!-- <img src="./die_side_2_100.png" /> -->
            <!-- </li> -->
            <!-- <li class="die-item" data-side="3"> -->
              <!-- <img src="./die_side_3_100.png" /> -->
            <!-- </li> -->
            <!-- <li class="die-item" data-side="4"> -->
              <!-- <img src="./die_side_4_100.png" /> -->
            <!-- </li> -->
            <!-- <li class="die-item" data-side="5"> -->
              <!-- <img src="./die_side_5_100.png" /> -->
            <!-- </li> -->
            <!-- <li class="die-item" data-side="6"> -->
              <!-- <img src="./die_side_6_100.png" /> -->
            <!-- </li> -->
          <!-- </ol> -->
        <!-- </div> -->
      <!-- <img style="padding-top: 15px;" src="./reroll_die_50.png" id="die-6-reroll-img" onclick='dice.RollDice()' /> -->
      <!-- </div> -->
    </div>
    <div id="container" style="position: absolute"></div>
    <script src="./main.js"></script>
    <script src="./appkonvas.js"></script>
    <script src="./appsocket.js"></script>
    <script src="./appui.js"></script>
	<script src="./dice.js"></script>
    <div id="landscape_msg">Phone users must use landscape orientation!</div>
    <div id="username_msg">You don't wanna enter a username, then you can't play!</div>
    <button id="assignroles" onclick="appui.AssignRoles()">Assign Roles</button>
	<audio id="audio_roll_dice" preload="auto">
	  <source src="./roll_dice_gun_sounds.mp3" type="audio/mpeg">
	</audio>
    <script>
      var isMobile = false
    if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
      isMobile = true;
    }

    var isHost = false;
    var isViewer = false;

    //if aspect ratio suggests a phone held vertically disable the app
    // and present message to user
		if( window.innerHeight > window.innerWidth ){

			$("#assignroles").hide();
      $(".dice").hide();
      $("#username_msg").hide();

		} else {

			$("#landscape_msg").hide();

      var person = prompt("Please enter your name", "");

			if (person == null || person == "") {

        $("#assignroles").hide();
        $(".dice").hide();

      } else {

        $("#username_msg").hide();

        if (person.trim() == "host") {
          person = "host";
          appsocket.SetOnUserConnected();
          isHost = true;

        } else {

          appsocket.EmitUserConnected(person);
          appsocket.SetOnAssignRole();
          $("#assignroles").hide();
        }

        appsocket.SetOnRollDice();
        main.StartApp();
    }
  }


    </script>
  </body>
</html>
